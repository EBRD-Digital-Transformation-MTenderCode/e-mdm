<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="init" author="kolchev">
        <sql>
            CREATE TABLE `languages` (
            `id` BIGINT NOT NULL,
            `s_no` INT NOT NULL,
            `name` VARCHAR(255) NOT NULL,
            `family` VARCHAR(255),
            `iso_639_1` VARCHAR(255) NOT NULL,
            `description` VARCHAR(255),
            PRIMARY KEY (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

            CREATE TABLE `cpv` (
            `code` VARCHAR(255) NOT NULL,
            `name` VARCHAR(255),
            `group` INT NOT NULL,
            `parent` VARCHAR(255),
            `language_id` BIGINT NOT NULL,
            PRIMARY KEY (`code`),
            KEY `cpv_language_id` (`language_id`),
            CONSTRAINT `FK_cpv_language_id` FOREIGN KEY (`language_id`) REFERENCES `languages` (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

            CREATE TABLE `countries` (
            `id` BIGINT NOT NULL,
            `code` VARCHAR(255) NOT NULL,
            `name` VARCHAR(255),
            `description` VARCHAR(255),
            `phone_code` VARCHAR(255),
            `language_id` BIGINT NOT NULL,
            PRIMARY KEY (`id`),
            KEY `countries_language_id` (`language_id`),
            CONSTRAINT `FK_countries_language_id` FOREIGN KEY (`language_id`) REFERENCES `languages` (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </sql>
    </changeSet>
</databaseChangeLog>